<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChessDB - Player Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/player.css') }}">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Player Dashboard - {{ session['username'] }}</h1>
            <button class="logout" onclick="window.location.href='/logout'">Logout</button>
        </div>
        
        <div id="message-container">
            <!-- Success or error messages will be displayed here -->
        </div>
        
        <!-- Player Info Card -->
        <div class="player-info">
            <div class="player-details">
                <div class="player-name">Alex Johnson</div>
                <div class="player-id">FIDE ID: 128945</div>
                <div class="player-meta" id="player-nationality">Nationality: USA</div>
                <div class="player-meta" id="player-teams">Teams: Chess Kings, NY Masters</div>
            </div>
            <div class="player-stats">
                <div>ELO Rating</div>
                <div class="rating">2285</div>
                <div class="title">FIDE Master (FM)</div>
            </div>
        </div>
        
        <div class="tab">
            <button class="tablinks active" onclick="openTab(event, 'opponents')">Opponent History</button>
            <button class="tablinks" onclick="openTab(event, 'frequent')">Most Frequent Opponent</button>
            <button class="tablinks" onclick="openTab(event, 'matches')">My Matches</button>
        </div>
        
        <!-- Opponents History Tab -->
        <div id="opponents" class="tabcontent active-tab">
            <h2>Players You've Played Against</h2>
            <table id="opponents-table">
                <thead>
                    <tr>
                        <th>Player Name</th>
                        <th>ELO Rating</th>
                        <th>Title</th>
                        <th>Nationality</th>
                        <th>Times Played</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Rows will be loaded dynamically -->
                    <tr>
                        <td>Mike Williams</td>
                        <td>2350</td>
                        <td>International Master</td>
                        <td>United Kingdom</td>
                        <td>5</td>
                    </tr>
                    <tr>
                        <td>Daniel Brown</td>
                        <td>2175</td>
                        <td>FIDE Master</td>
                        <td>USA</td>
                        <td>3</td>
                    </tr>
                    <tr>
                        <td>Sarah Wilson</td>
                        <td>2420</td>
                        <td>International Master</td>
                        <td>Canada</td>
                        <td>2</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- Most Frequent Opponent Tab -->
        <div id="frequent" class="tabcontent">
            <h2>Most Frequent Opponent</h2>
            <div class="stats-container">
                <div class="stat-box">
                    <h3>Player Name</h3>
                    <div class="stat-value" id="player-name">Mike Williams</div>
                    <p id="player-country">United Kingdom</p>
                </div>
                <div class="stat-box">
                    <h3>ELO Rating</h3>
                    <div class="stat-value" id="elo-rating">2350</div>
                    <p id="player-title">International Master</p>
                </div>
                <div class="stat-box">
                    <h3>Matches Played</h3>
                    <div class="stat-value" id="matches-played">5</div>
                </div>
            </div>
        </div>
        
        <!-- My Matches Tab -->
        <div id="matches" class="tabcontent">
            <h2>My Match History</h2>
            <table id="matches-table">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Slot</th>
                        <th>Hall</th>
                        <th>Table</th>
                        <th>Team</th>
                        <th>Opponent Team</th>
                        <th>Opponent Player</th>
                        <th>Arbiter</th>
                        <th>Rating</th>
                        <th>Result</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Rows will be loaded dynamically -->
                    <tr>
                        <td>10-04-2025</td>
                        <td>1</td>
                        <td>Hall A</td>
                        <td>1</td>
                        <td>Team Chess Masters</td>
                        <td>Mike Williams</td>
                        <td>John Smith</td>
                        <td>Sherlock Holmes</td>
                        <td>8</td>
                        <td>Draw</td>
                    </tr>
                    <tr>
                        <td>25-03-2025</td>
                        <td>2</td>
                        <td>Hall C</td>
                        <td>2</td>
                        <td>NY Masters</td>
                        <td>Royal Knights</td>
                        <td>Daniel Brown</td>
                        <td>Sarah Johnson</td>
                        <td>7</td>
                        <td>Draw</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/player.js') }}"></script>
</body>
</html>